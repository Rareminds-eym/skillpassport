# Database Connection Visual Map

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           STUDENT DASHBOARD                              â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ğŸ“š Education    â”‚  â”‚  ğŸ“ Training     â”‚  â”‚  ğŸ’¼ Experience   â”‚     â”‚
â”‚  â”‚  [Edit Button]   â”‚  â”‚  [Edit Button]   â”‚  â”‚  [Edit Button]   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚  â”‚  âš¡ Tech Skills  â”‚  â”‚  ğŸ’¬ Soft Skills  â”‚                            â”‚
â”‚  â”‚  [Edit Button]   â”‚  â”‚  [Edit Button]   â”‚                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ useStudentDataByEmail(email)
                                  â”‚
                                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        PROFILE EDIT SECTION                              â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ğŸ‘¤ Personal     â”‚  â”‚  ğŸ“š Education    â”‚  â”‚  ğŸ“ Training     â”‚     â”‚
â”‚  â”‚  [Edit Button]   â”‚  â”‚  [Edit Button]   â”‚  â”‚  [Edit Button]   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  ğŸ’¼ Experience   â”‚  â”‚  ğŸ’¬ Soft Skills  â”‚  â”‚  âš¡ Tech Skills  â”‚     â”‚
â”‚  â”‚  [Edit Button]   â”‚  â”‚  [Edit Button]   â”‚  â”‚  [Edit Button]   â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ SAME HOOK!
                                  â”‚ useStudentDataByEmail(email)
                                  â”‚
                                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      useStudentDataByEmail Hook                          â”‚
â”‚                      (src/hooks/useStudentDataByEmail.js)                â”‚
â”‚                                                                          â”‚
â”‚  Returns:                                                                â”‚
â”‚  â€¢ studentData { profile, education, training, experience, skills }      â”‚
â”‚  â€¢ updateProfile(data)                                                   â”‚
â”‚  â€¢ updateEducation(data)                                                 â”‚
â”‚  â€¢ updateTraining(data)                                                  â”‚
â”‚  â€¢ updateExperience(data)                                                â”‚
â”‚  â€¢ updateTechnicalSkills(data)                                           â”‚
â”‚  â€¢ updateSoftSkills(data)                                                â”‚
â”‚  â€¢ loading, error, refresh                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ Calls service functions
                                  â”‚
                                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Student Service Profile Layer                        â”‚
â”‚                  (src/services/studentServiceProfile.js)                 â”‚
â”‚                                                                          â”‚
â”‚  â€¢ getStudentByEmail(email)                                              â”‚
â”‚  â€¢ updateStudentByEmail(email, updates)      â†’ profile.*                 â”‚
â”‚  â€¢ updateEducationByEmail(email, data)       â†’ profile.education         â”‚
â”‚  â€¢ updateTrainingByEmail(email, data)        â†’ profile.training          â”‚
â”‚  â€¢ updateExperienceByEmail(email, data)      â†’ profile.experience        â”‚
â”‚  â€¢ updateTechnicalSkillsByEmail(email, data) â†’ profile.technicalSkills   â”‚
â”‚  â€¢ updateSoftSkillsByEmail(email, data)      â†’ profile.softSkills        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â”‚ Executes Supabase queries
                                  â”‚
                                  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          SUPABASE DATABASE                               â”‚
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                        students TABLE                              â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ id â”‚ universityId â”‚           profile (JSONB)                     â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ 1  â”‚     12       â”‚  {                                            â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    "name": "John Doe",                        â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    "email": "john@example.com",               â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    "phone": "+91 1234567890",                 â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    "education": [                             â”‚  â”‚
â”‚  â”‚    â”‚              â”‚      {                                        â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "id": 1,                               â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "degree": "B.Tech",                    â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "university": "MIT",                   â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "cgpa": "9.2",                         â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "status": "ongoing"                    â”‚  â”‚
â”‚  â”‚    â”‚              â”‚      }                                        â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    ],                                         â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    "training": [                              â”‚  â”‚
â”‚  â”‚    â”‚              â”‚      {                                        â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "id": 1,                               â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "course": "Full Stack Dev",            â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "progress": 80,                        â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "status": "ongoing"                    â”‚  â”‚
â”‚  â”‚    â”‚              â”‚      }                                        â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    ],                                         â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    "experience": [                            â”‚  â”‚
â”‚  â”‚    â”‚              â”‚      {                                        â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "id": 1,                               â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "role": "Intern",                      â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "organization": "Google",              â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "duration": "3 months"                 â”‚  â”‚
â”‚  â”‚    â”‚              â”‚      }                                        â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    ],                                         â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    "technicalSkills": [                       â”‚  â”‚
â”‚  â”‚    â”‚              â”‚      {                                        â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "id": 1,                               â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "name": "React",                       â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "level": 4                             â”‚  â”‚
â”‚  â”‚    â”‚              â”‚      }                                        â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    ],                                         â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    "softSkills": [                            â”‚  â”‚
â”‚  â”‚    â”‚              â”‚      {                                        â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "id": 1,                               â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "name": "Communication",               â”‚  â”‚
â”‚  â”‚    â”‚              â”‚        "level": 5                             â”‚  â”‚
â”‚  â”‚    â”‚              â”‚      }                                        â”‚  â”‚
â”‚  â”‚    â”‚              â”‚    ]                                          â”‚  â”‚
â”‚  â”‚    â”‚              â”‚  }                                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                          â”‚
â”‚  â—† All data stored in ONE JSONB column                                  â”‚
â”‚  â—† Flexible schema - can add fields without migration                   â”‚
â”‚  â—† Efficient - single query gets all student data                       â”‚
â”‚  â—† Atomic updates - all changes in one transaction                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Points:

1. **Both Dashboard and Profile Edit use the SAME hook** âœ…
2. **Same service functions for all updates** âœ…
3. **Same database table: `students`** âœ…
4. **Same column: `profile` (JSONB)** âœ…
5. **All student data in ONE place** âœ…

## Data Flow Example:

```
User clicks "Edit Education" in Dashboard
    â†“
Modal opens with current education data from studentData.education
    â†“
User adds new degree "M.Tech from Stanford"
    â†“
Clicks Save
    â†“
handleSave('education', newEducationArray) is called
    â†“
updateEducation(newEducationArray) from hook
    â†“
updateEducationByEmail(email, newEducationArray) in service
    â†“
Finds student record by email
    â†“
Gets current profile JSONB
    â†“
Updates profile.education with new array
    â†“
Saves to Supabase: UPDATE students SET profile = {...} WHERE id = X
    â†“
Returns updated data
    â†“
Hook updates studentData state
    â†“
UI re-renders with new data
    â†“
New degree shows in Dashboard AND Profile Edit Section
```

## Same for ALL sections:
- Education â†’ `profile.education`
- Training â†’ `profile.training`
- Experience â†’ `profile.experience`
- Technical Skills â†’ `profile.technicalSkills`
- Soft Skills â†’ `profile.softSkills`
- Personal Info â†’ `profile.name`, `profile.email`, etc.

**Everything connected to the same database! No hardcoded data when logged in!** ğŸ‰
