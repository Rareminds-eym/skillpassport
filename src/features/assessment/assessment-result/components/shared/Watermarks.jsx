/**
 * Watermarks Component
 * Print-only watermark elements for branding
 * Requirements: 4.5 - Maintain color accuracy for branding elements
 */

/**
 * Watermarks Component
 * Renders watermark images that appear only in print mode
 * 
 * @returns {JSX.Element} - Watermark elements
 */
const Watermarks = () => (
  <>
    {/* Rareminds Bulb Logo Watermark - Center - PRINT ONLY */}
    <div
      className="print-only-watermark"
      style={{
        position: 'fixed',
        top: '50%',
        left: '50%',
        transform: 'translate(-50%, -50%)',
        pointerEvents: 'none',
        zIndex: 0,
        opacity: 0.08,
      }}
    >
      <img
        src="/RMLogo.webp"
        alt="Rareminds Watermark"
        style={{
          width: '400px',
          height: '400px',
          objectFit: 'contain',
        }}
      />
    </div>

    {/* Top-left watermark - matches other pages position */}
    <div
      className="print-only-watermark"
      style={{
        position: 'fixed',
        top: '20%',
        left: '16%',
        transform: 'translate(-50%, -50%)',
        pointerEvents: 'none',
        zIndex: 0,
        opacity: 0.05,
      }}
    >
      <img
        src="/RMLogo.webp"
        alt="Rareminds Watermark"
        style={{
          width: '200px',
          height: '200px',
          objectFit: 'contain',
        }}
      />
    </div>

    {/* Top-right watermark - matches other pages position */}
    <div
      className="print-only-watermark"
      style={{
        position: 'fixed',
        top: '20%',
        right: '16%',
        transform: 'translate(50%, -50%)',
        pointerEvents: 'none',
        zIndex: 0,
        opacity: 0.05,
      }}
    >
      <img
        src="/RMLogo.webp"
        alt="Rareminds Watermark"
        style={{
          width: '200px',
          height: '200px',
          objectFit: 'contain',
        }}
      />
    </div>
  </>
);

/**
 * PrintFooter Component
 * Fixed footer that appears on every page
 * 
 * @returns {JSX.Element} - Footer element
 */
export const PrintFooter = () => (
  <div
    className="print-footer"
    style={{
      position: 'fixed',
      bottom: 0,
      left: 0,
      right: 0,
      padding: '8px 15mm',
      background: 'white',
      borderTop: '1px solid #e5e7eb',
      zIndex: 9999,
    }}
  >
    <div style={{ 
      fontSize: '7px', 
      color: '#6b7280', 
      textAlign: 'center',
      lineHeight: '1.4'
    }}>
      <p style={{ margin: '0' }}>
        <strong style={{ color: '#1e293b' }}>RAREMINDS SkillPassport • AI-Powered Career Assessment</strong>
        <br />
        Report Generated: {new Date().toLocaleDateString()} • Confidential • For Student Use Only
        <br />
        This is a digitally generated report, does not need signature
      </p>
    </div>
  </div>
);

/**
 * DataPrivacyNotice Component
 * Data privacy notice displayed at the top of the report
 * 
 * @returns {JSX.Element} - Privacy notice element
 */
export const DataPrivacyNotice = () => (
  <div
    style={{
      background: '#f0f9ff',
      border: '1px solid #bae6fd',
      borderRadius: '6px',
      padding: '4px 6px',
      marginBottom: '5px',
      fontSize: '8px',
      color: '#0c4a6e',
      lineHeight: '1.2',
    }}
  >
    <p style={{ margin: '0' }}>
      <strong>Data Privacy & Consent:</strong> By submitting this form, you consent to the
      collection and processing of the information you provide for the purpose stated. Your data
      will be stored securely, used only for authorised activities, and will not be shared with
      third parties without your explicit permission unless required by law. You may request
      access, correction, or deletion of your data at any time.
    </p>
  </div>
);

/**
 * ReportDisclaimer Component
 * Disclaimer displayed at the end of the report
 * 
 * @returns {JSX.Element} - Disclaimer element
 */
export const ReportDisclaimer = () => (
  <div
    style={{
      background: '#fef3c7',
      border: '1px solid #fbbf24',
      borderRadius: '6px',
      padding: '6px 8px',
      marginTop: '10px',
      marginBottom: '10px',
      fontSize: '8px',
      color: '#78350f',
      lineHeight: '1.4',
    }}
  >
    <p style={{ margin: '0' }}>
      <strong>Report Disclaimer:</strong> This career report is generated by Rareminds using the
      inputs and assessment data shared by the user. Your information has been processed
      confidentially and in compliance with applicable data protection norms, and is not shared
      with any external parties.
    </p>
  </div>
);

export default Watermarks;

/**
 * RepeatingHeader Component
 * Header that repeats on every printed page (except cover page)
 * Uses table-header-group for cross-browser print repetition
 * 
 * @returns {JSX.Element} - Repeating header element
 */
export const RepeatingHeader = () => (
  <thead className="print-repeating-header">
    <tr className="print-header-row">
      <td className="print-header-cell">
        <div
          style={{
            width: '100%',
            height: '50px',
            position: 'relative',
            marginBottom: '10px',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'space-between',
            background: 'white'
          }}
        >
          {/* Left side - Gradient bar with slanted edge */}
          <div
            style={{
              position: 'relative',
              height: '36px',
              display: 'flex',
              alignItems: 'center',
              flex: '0 0 auto',
              maxWidth: '75%'
            }}
          >
            {/* SVG for slanted bar */}
            <svg
              width="520"
              height="36"
              viewBox="0 0 520 36"
              style={{
                position: 'absolute',
                left: 0,
                top: 0
              }}
            >
              <defs>
                <linearGradient id="headerBarGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" stopColor="#d0e3f1" />
                  <stop offset="100%" stopColor="#f7ffff" />
                </linearGradient>
              </defs>
              <polygon
                points="0,0 500,0 520,36 0,36"
                fill="url(#headerBarGradient)"
              />
            </svg>
            {/* Text overlay */}
            <span
              style={{
                position: 'relative',
                zIndex: 1,
                color: '#1e293b',
                fontSize: '14px',
                fontWeight: '600',
                fontFamily: 'Arial, Helvetica, sans-serif',
                whiteSpace: 'nowrap',
                paddingLeft: '20px',
                paddingRight: '50px'
              }}
            >
              RAREMINDS SkillPassport • AI-Powered Career Assessment
            </span>
          </div>

          {/* Right side - Logo */}
          <div
            style={{
              display: 'flex',
              alignItems: 'center',
              paddingRight: '10px'
            }}
          >
            <img
              src="/RareMinds ISO Logo-01.png"
              alt="Rareminds"
              style={{
                height: '40px',
                width: 'auto',
                objectFit: 'contain'
              }}
            />
          </div>
        </div>
      </td>
    </tr>
  </thead>
);

/**
 * RepeatingFooter Component
 * Footer that repeats on every printed page (except cover page)
 * Uses table-footer-group for cross-browser print repetition
 * Layout: Left side - branding text, Right side - page info
 * 
 * @returns {JSX.Element} - Repeating footer element
 */
export const RepeatingFooter = () => (
  <tfoot className="print-repeating-footer">
    <tr className="print-footer-row">
      <td className="print-footer-cell">
        <div
          style={{
            width: '100%',
            padding: '8px 0',
            background: 'white',
            borderTop: '1px solid #e5e7eb',
            marginTop: '10px',
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'flex-start'
          }}
        >
          {/* Left side - Branding text */}
          <div style={{ 
            fontSize: '8px', 
            color: '#1e3a5f',
            lineHeight: '1.5',
            textAlign: 'left'
          }}>
            <div style={{ fontWeight: '700', marginBottom: '2px' }}>
              RAREMINDS SkillPassport • AI-Powered Career Assessment
            </div>
            <div style={{ color: '#6b7280', fontSize: '7px' }}>
              This is a digitally generated report, does not need signature
            </div>
          </div>

          {/* Right side - Report info and page number */}
          <div style={{ 
            fontSize: '8px', 
            color: '#1e3a5f',
            lineHeight: '1.5',
            textAlign: 'right'
          }}>
            <div style={{ fontWeight: '600' }}>
              Report Generated: {new Date().toLocaleDateString()}
            </div>
            <div style={{ color: '#6b7280', fontSize: '7px' }}>
              Confidential • For Student Use Only
            </div>
          </div>
        </div>
      </td>
    </tr>
  </tfoot>
);
