name = "email-api"
main = "src/index.js"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

[dev]
port = 9001
inspector_port = 9231

# Schedule countdown emails to run daily at 6:50 AM UTC (12:20 PM IST)
[triggers]
crons = ["25 11 * * *"]

[vars]
SMTP_HOST = "email-smtp.ap-south-1.amazonaws.com"
SMTP_PORT = "587"
LAUNCH_DATE = "2026-02-02"
MAX_EMAIL_RETRIES = "3"

# Add these secrets using: wrangler secret put SECRET_NAME
# SMTP_USER = "your-smtp-username"
# SMTP_PASS = "your-smtp-password"
# FROM_EMAIL = "noreply@rareminds.in"
# FROM_NAME = "Skill Passport"
# SUPABASE_URL = "https://your-project.supabase.co"
# SUPABASE_SERVICE_KEY = "your-service-key"
