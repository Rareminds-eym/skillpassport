# For detailed configuration reference documentation, visit:
# https://supabase.com/docs/guides/local-development/cli/config

project_id = "sp-4"

[api]
enabled = true

# Port to use for the API URL.
port = 54321

# Schemas to expose in your API. Tables, views and stored procedures in this schema will get API endpoints.
# `public` and `graphql_public` schemas are included by default.
schemas = [
  "public",
  "graphql_public",
]

# Extra schemas to add to the search_path of every request.
extra_search_path = [
  "public",
  "extensions",
]

# The maximum number of rows returned from a view, table, or stored procedure.
max_rows = 1000

[api.tls]
# Enable HTTPS endpoints locally using a self-signed certificate.
enabled = false

# cert_path = "../certs/my-cert.pem"
# key_path  = "../certs/my-key.pem"

[db]
# Port to use for the local database URL.
port = 54322

# Port used by db diff command to initialize the shadow database.
shadow_port = 54320

# The database major version to use. Keep this aligned with your remote database.
major_version = 17

[db.pooler]
enabled = false

# Port to use for the local connection pooler.
port = 54329

# Configure one of the supported pooler modes: `transaction`, `session`.
pool_mode = "transaction"

# How many server connections to allow per user/database pair.
default_pool_size = 20

# Maximum number of client connections allowed.
max_client_conn = 100

# [db.vault]
# secret_key = "env(SECRET_VALUE)"

[db.migrations]
# If disabled, migrations will be skipped during a db push or reset.
enabled = true

# Ordered list of schema files that describe your database.
schema_paths = []

[db.seed]
# If enabled, seeds the database after migrations during a db reset.
enabled = true

# Ordered list of seed files to load during db reset.
sql_paths = [
  "./seed.sql",
]

[db.network_restrictions]
# Enable management of network restrictions.
enabled = false

# List of IPv4 CIDR blocks allowed to connect to the database.
allowed_cidrs = [
  "0.0.0.0/0",
]

# List of IPv6 CIDR blocks allowed to connect to the database.
allowed_cidrs_v6 = [
  "::/0",
]

[realtime]
enabled = true

# ip_version = "IPv6"
# max_header_length = 4096

[studio]
enabled = true

# Port to use for Supabase Studio.
port = 54323

# External URL of the API server that frontend connects to.
api_url = "http://127.0.0.1"

# OpenAI API Key to use for Supabase AI in the Supabase Studio.
openai_api_key = "env(OPENAI_API_KEY)"

[inbucket]
enabled = true

# Port to use for the email testing server web interface.
port = 54324

# smtp_port = 54325
# pop3_port = 54326
# admin_email = "admin@email.com"
# sender_name = "Admin"

[storage]
enabled = true

# The maximum file size allowed (e.g. "5MB", "500KB").
file_size_limit = "50MiB"

[storage.s3_protocol]
enabled = true

# [storage.image_transformation]
# enabled = true

[storage.analytics]
# Store analytical data in S3 for running ETL jobs over Iceberg Catalog (hosted only).
enabled = false

max_namespaces = 5
max_tables = 10
max_catalogs = 2

# [storage.analytics.buckets.my-warehouse]

[storage.vector]
# Store vector embeddings in S3 for large and durable datasets (hosted only).
enabled = false

max_buckets = 10
max_indexes = 5

# [storage.vector.buckets.documents-openai]

[auth]
enabled = true

site_url = []

additional_redirect_urls = []

jwt_expiry = 3600

# jwt_issuer = ""
# signing_keys_path = "./signing_keys.json"

enable_refresh_token_rotation = true
refresh_token_reuse_interval = 10

enable_signup = true
enable_anonymous_sign_ins = false
enable_manual_linking = false

minimum_password_length = 6
password_requirements = ""

[auth.rate_limit]
email_sent = 2
sms_sent = 30
anonymous_users = 30
token_refresh = 150
sign_in_sign_ups = 30
token_verifications = 30
web3 = 30

# [auth.captcha]
# enabled = true
# provider = "hcaptcha"
# secret = ""

[auth.email]
enable_signup = true
double_confirm_changes = true
enable_confirmations = false
secure_password_change = false

max_frequency = "1s"
otp_length = 6
otp_expiry = 3600

# [auth.email.smtp]
# enabled = true
# host = "smtp.sendgrid.net"
# port = 587
# user = "apikey"
# pass = "env(SENDGRID_API_KEY)"
# admin_email = "admin@email.com"
# sender_name = "Admin"

# [auth.email.template.invite]
# subject = "You have been invited"
# content_path = "./supabase/templates/invite.html"

# [auth.email.notification.password_changed]
# enabled = true
# subject = "Your password has been changed"
# content_path = "./templates/password_changed_notification.html"

[auth.sms]
enable_signup = false
enable_confirmations = false

template = "Your code is {{ .Code }}"
max_frequency = "5s"

[auth.sms.twilio]
enabled = false
account_sid = ""
message_service_sid = ""
auth_token = "env(SUPABASE_AUTH_SMS_TWILIO_AUTH_TOKEN)"

[auth.mfa]
max_enrolled_factors = 10

[auth.mfa.totp]
enroll_enabled = false
verify_enabled = false

[auth.mfa.phone]
enroll_enabled = false
verify_enabled = false

otp_length = 6
template = "Your code is {{ .Code }}"
max_frequency = "5s"

# [auth.mfa.web_authn]
# enroll_enabled = true
# verify_enabled = true

[auth.external.apple]
enabled = false

client_id = ""
secret = "env(SUPABASE_AUTH_EXTERNAL_APPLE_SECRET)"
redirect_uri = ""
url = ""
skip_nonce_check = false
email_optional = false

[auth.web3.solana]
enabled = false

[auth.third_party.firebase]
enabled = false
# project_id = "my-firebase-project"

[auth.third_party.auth0]
enabled = false
# tenant = "my-auth0-tenant"
# tenant_region = "us"

[auth.third_party.aws_cognito]
enabled = false
# user_pool_id = "my-user-pool-id"
# user_pool_region = "us-east-1"

[auth.third_party.clerk]
enabled = false
# domain = "example.clerk.accounts.dev"

[auth.oauth_server]
enabled = false

authorization_url_path = "/oauth/consent"
allow_dynamic_registration = false

[edge_runtime]
enabled = true

# per_worker enables hot reload during local development.
policy = "per_worker"

# Port to attach the Chrome inspector for debugging edge functions.
inspector_port = 8083

# The Deno major version to use.
deno_version = 2

# [edge_runtime.secrets]
# secret_key = "env(SECRET_VALUE)"

[analytics]
enabled = true

port = 54327
backend = "postgres"

[experimental]
# OrioleDB is experimental and hosted-only.
orioledb_version = ""

# S3 settings for experimental features.
s3_host = "env(S3_HOST)"
s3_region = "env(S3_REGION)"
s3_access_key = "env(S3_ACCESS_KEY)"
s3_secret_key = "env(S3_SECRET_KEY)"
